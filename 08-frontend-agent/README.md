# 08-Frontend-Agent

A config-driven orchestrator with frontend capabilities that reads `config/agents.json` to manage agent capabilities and policies, then dispatches tasks to specialized sub-agents:

- **Smoke‑Test Agent** → writes `outputs/tests/smoke.auto.test.ts`
- **Mermaid Agent** → writes `outputs/mermaid/mermaid.md` with flow diagrams
- **README Agent** → writes `outputs/README.auto.md` with comprehensive documentation
- **Frontend Agent** → writes `outputs/frontend/index.ts` with login form and `demo.html`

No MCP; runs purely on npm + TypeScript + Vitest with configuration-based agent management and frontend generation.

## TL;DR

```bash
cd 08-frontend-agent
npm install
npm run agent    # Config-driven orchestrator reads config/agents.json and ./instructions.md
npm test         # Run generated smoke tests
# Check outputs/ directory for all generated content
npm run dev      # Browse: http://localhost:3000
```

## Goals

- Demonstrate config-driven agent management with policies  
- Add README generation agent for comprehensive documentation  
- Add Frontend agent for UI component generation  
- Generate interactive login forms with validation  
- Validate agent capabilities against configuration  
- Prepare foundation for MCP-style permissions


## Tutorial Instructions

Follow these steps to learn how the frontend agent system works:

### Step 1: Understand the Instructions
1. **Read the `instructions.md` file** - Open `instructions.md` and review the `## Tasks:` section
```YAML
## Tasks:
1. Read and assess all *.ts files under ./src folder
2. Generate comprehensive tests for all functions
3. Create a mermaid flow diagram showing project structure
4. Generate project README documentation
5. Add email as additional input to the frontend login form
6. Create HTML report for the test results
7. Provide project summary
```
2. **Identify the "add email" step** - Look for task #5: "Add email as additional input to the frontend login form"


### Step 2: Test the Original Frontend
3. **Run the original frontend server**:
   ```bash
   npm run dev
   ```
4. **Browse to http://localhost:3000**
5. **Login using only username and password**:
   - Username: `admin`
   - Password: `123456`
   - Notice: No email field exists yet
6. **Close the server** (Ctrl+C)

### Step 3: Generate Enhanced Frontend
7. **Run the agent system**:
   ```bash
   npm run agent
   ```
   This will read instructions.md and generate enhanced frontend code with email field

8. **Run the enhanced frontend**:
   ```bash
   npm run qa
   ```
   This runs the generated frontend from `outputs/frontend.ts`

9. **Browse to http://localhost:3000**
10. **Login using username, password AND email**:
    - Username: `admin`
    - Password: `123456`
    - **Email: `test@example.com`** (new field!)
    - Notice: The email field was automatically added

11. **Stop the service** (Ctrl+C)

### Step 4: Experiment with More Fields
12. **Edit `instructions.md`** - Add more field requests like:
    - "Add age as additional input"
    - "Add phone as additional input"
    
13. **Run the agent again**:
    ```bash
    npm run agent
    npm run qa
    ```

14. **Test the new fields** - Browse to http://localhost:3000 and see the additional fields

### Key Learning Points:
- **Instructions drive behavior** - The agents read `instructions.md` to understand what to build
- **Dynamic field generation** - Any field type (email, phone, age, etc.) can be added
- **Automatic validation** - Each field type gets appropriate validation rules
- **Complete integration** - Fields are added to interfaces, HTML, JavaScript, and server endpoints
- **Clean regeneration** - Each run starts fresh and adapts to current instructions


---


## Project Structure

```
08-frontend-agent/
├─ .gitignore               # ignores generated files
├─ package.json
├─ tsconfig.json
├─ instructions.md          # freeform instructions (HE/EN)
├─ README.md                # this file
├─ config/
│  └─ agents.json          # agent configuration and policies
├─ src/
│  └─ frontend.ts          # Express server with login form
├─ outputs/                 # all generated content (cleaned on each run)
│  ├─ tests/
│  │  ├─ frontend.test.ts     # generated by frontend-tests-agent.ts
│  │  └─ test-report.html     # HTML test report
│  ├─ mermaid/
│  │  └─ mermaid.md          # generated by mermaid-agent.ts
│  ├─ frontend/
│  │  └─ demo.html           # interactive demo
│  ├─ frontend.ts            # enhanced frontend code
│  └─ README.auto.md         # generated by readme-agent.ts
└─ agent/
   ├─ orchestrator.ts       # config-driven orchestrator with cleanup
   ├─ frontend-tests.ts     # creates dynamic tests based on actual code
   ├─ mermaid-agent.ts      # creates outputs/mermaid/mermaid.md
   ├─ readme-agent.ts       # creates outputs/README.auto.md
   └─ frontend-agent.ts     # creates enhanced frontend code and demos
```



## How it Works
1. **Orchestrator** loads `config/agents.json` and validates agent capabilities
2. **Instructions** are parsed from `instructions.md` for task detection
3. **Validation** ensures requested tasks match agent capabilities
4. **Dispatch** sends tasks to appropriate specialized agents
5. **Agents** operate within their configured security policies


## Key Improvements from Chapter 07
1. **Frontend Agent**: Generates interactive UI components and forms
2. **Login System**: Complete authentication flow with validation
3. **Email Integration**: Additional input field as requested in instructions
4. **Interactive Demo**: HTML demo with working JavaScript validation
5. **Enhanced Code**: Frontend-focused functions and interfaces


## Additional Agent Configuration
The `config/agents.json` file defines:

### Agent Capabilities
- **frontend-tests-agent**: `["tests", "frontend", "validation"]`
- **mermaid-agent**: `["docs", "diagram", "mermaid", "flow"]`  
- **readme-agent**: `["docs", "readme", "documentation"]`
- **frontend-agent**: `["frontend", "ui", "forms", "enhancement"]`

### Security Policies
Each agent has restricted permissions:
- **network**: `false` (no network access)
- **shell**: `false` (no shell commands)
- **fs**: `"restricted"` (limited file system access)
- **writePaths**: Allowed write locations
- **denyPaths**: Forbidden directories
