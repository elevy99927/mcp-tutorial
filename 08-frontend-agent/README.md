# 08-Frontend-Agent

A config-driven orchestrator with frontend capabilities that reads `config/agents.json` to manage agent capabilities and policies, then dispatches tasks to specialized sub-agents:

- **Smoke‑Test Agent** → writes `outputs/tests/smoke.auto.test.ts`
- **Mermaid Agent** → writes `outputs/mermaid/mermaid.md` with flow diagrams
- **README Agent** → writes `outputs/README.auto.md` with comprehensive documentation
- **Frontend Agent** → writes `outputs/frontend/index.ts` with login form and `demo.html`

No MCP; runs purely on npm + TypeScript + Vitest with configuration-based agent management and frontend generation.

## TL;DR

```bash
cd 08-frontend-agent
npm install
npm run agent    # Config-driven orchestrator reads config/agents.json and ./instructions.md
npm test         # Run generated smoke tests
# Check outputs/ directory for all generated content
```

## Goals

✅ Demonstrate config-driven agent management with policies  
✅ Add README generation agent for comprehensive documentation  
✅ Add Frontend agent for UI component generation  
✅ Generate interactive login forms with validation  
✅ Validate agent capabilities against configuration  
✅ Prepare foundation for MCP-style permissions

## Project Structure

```
07-config-driven-agent/
├─ .gitignore               # ignores generated files
├─ package.json
├─ tsconfig.json
├─ instructions.md          # freeform instructions (HE/EN)
├─ README.md                # this file
├─ config/
│  └─ agents.json          # agent configuration and policies
├─ src/
│  ├─ index.ts             # auto generated sample file
│  └─ math.ts              # math utility functions
├─ outputs/                 # all generated content
│  ├─ tests/
│  │  └─ smoke.auto.test.ts   # generated by smoke-agent.ts
│  ├─ mermaid/
│  │  └─ mermaid.md          # generated by mermaid-agent.ts
│  ├─ frontend/
│  │  ├─ index.ts            # generated by frontend-agent.ts
│  │  └─ demo.html           # interactive demo
│  └─ README.auto.md         # generated by readme-agent.ts
└─ agent/
   ├─ orchestrator.ts       # config-driven orchestrator
   ├─ smoke-agent.ts        # creates outputs/tests/smoke.auto.test.ts
   ├─ mermaid-agent.ts      # creates outputs/mermaid/mermaid.md
   ├─ readme-agent.ts       # creates outputs/README.auto.md
   └─ frontend-agent.ts     # creates outputs/frontend/ components
```

## Agent Configuration

The `config/agents.json` file defines:

### Agent Capabilities
- **smoke-test-agent**: `["tests", "smoke"]`
- **mermaid-agent**: `["docs", "diagram", "mermaid", "flow"]`  
- **readme-agent**: `["docs", "readme", "documentation"]`
- **frontend-agent**: `["frontend", "ui", "forms", "validation"]`

### Security Policies
Each agent has restricted permissions:
- **network**: `false` (no network access)
- **shell**: `false` (no shell commands)
- **fs**: `"restricted"` (limited file system access)
- **writePaths**: Allowed write locations
- **denyPaths**: Forbidden directories

## How it Works

1. **Orchestrator** loads `config/agents.json` and validates agent capabilities
2. **Instructions** are parsed from `instructions.md` for task detection
3. **Validation** ensures requested tasks match agent capabilities
4. **Dispatch** sends tasks to appropriate specialized agents
5. **Agents** operate within their configured security policies

## Intent Detection

Supports English/Hebrew keywords:
- **Smoke tests**: "smoke tests", "בדיקות עשן", "create test"
- **Flow diagrams**: "mermaid", "flow chart", "diagram", "תרשים"  
- **Documentation**: "readme", "documentation", "docs", "תיעוד"
- **Frontend**: "frontend", "ui", "form", "login", "email", "ממשק", "טופס"
- **Summary**: "summary", "סיכום", "overview"

## Usage

```bash
# Install dependencies
npm install

# Run the config-driven orchestrator
npm run agent

# Execute generated tests
npm test

# View generated content
cat outputs/README.auto.md           # Auto-generated documentation
cat outputs/mermaid/mermaid.md       # Visual flow diagrams
cat outputs/tests/smoke.auto.test.ts # Comprehensive test suite
cat outputs/frontend/index.ts        # Enhanced frontend code
open outputs/frontend/demo.html      # Interactive login demo
```

## Key Improvements from Chapter 07

1. **🎨 Frontend Agent**: Generates interactive UI components and forms
2. **🔐 Login System**: Complete authentication flow with validation
3. **📧 Email Integration**: Additional input field as requested in instructions
4. **🌐 Interactive Demo**: HTML demo with working JavaScript validation
5. **🔧 Enhanced Code**: Frontend-focused functions and interfaces

## Example Output

The orchestrator will:
1. 🎭 Load agent configurations from `config/agents.json`
2. ✅ Validate agent capabilities against requested tasks
3. 🔥 Dispatch to Smoke-Test Agent → comprehensive tests
4. 📊 Dispatch to Mermaid Agent → visual diagrams  
5. 📖 Dispatch to README Agent → project documentation
6. 📋 Generate summary if requested

All agents operate within their configured security policies!